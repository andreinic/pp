<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xml:lang="en" lang="en"
                template="/WEB-INF/view/admin/templates/adminPage.xhtml">
    <ui:define name="title">Price Page Admin - Produse</ui:define>
    <ui:define name="content">
        <h:form id="mainForm" class="admin-item-details">
            <p:tabView id="tabView">
                <p:tab title="Detalii">
                    <h:panelGrid id="productForm" columns="3" columnClasses="admin-grid-col1,admin-grid-col2,admin-grid-col3,admin-grid-col14" styleClass="grid">
                        <h:outputText value="Name: *"/>
                        <p:inputText id="productName" label="Name" value="#{productsView.selectedProduct.name}"
                                     required="true" requiredMessage="Product name is requried">
                            <f:validator validatorId="requiredValidator"/>
                        </p:inputText>
                        <p:message for="productName"/>

                        <h:outputText value="Category: *"/>
                        <p:selectOneMenu id="productCateg" label="Category"
                                         value="#{productsView.selectedProduct.category}" converter="productCategoryConverter">
                            <f:selectItem itemLabel="Select category"/>
                            <f:selectItems value="#{productsView.categories}" var="parent" itemLabel="#{parent.name}" itemValue="#{parent}"/>
                        </p:selectOneMenu>
                        <p:message for="productCateg"/>

                        <h:outputText value="Producator: *"/>
                        <p:selectOneMenu id="productProducers" label="Producers"
                                         value="#{productsView.selectedProduct.producer}" converter="producerConverter">
                            <f:selectItem itemLabel="Select producer"/>
                            <f:selectItems value="#{producersView.producers}" var="producer" itemLabel="#{producer.name}" itemValue="#{producer}"/>
                        </p:selectOneMenu>
                        
                        <h:outputText value="Cantitate: "/>
                        
                        <p:message for="productProducers"/>

                        <h:outputText value="Description"/>
                        <p:editor width="600" value="#{productsView.selectedProduct.description}"/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Preturi">

                </p:tab>
                
                 <p:tab title="Imagini">

                </p:tab>
            </p:tabView>


            <h:panelGrid>
                <p:commandButton value="Save" icon="ui-icon-disk" actionListener="#{productsView.onSave()}"
                                 process="@this,mainForm:tabView:productForm" update="mainForm:tabView:productForm,mainForm:productsTable"/>
            </h:panelGrid>

            <br/><br />
            <p:dataTable id="productsTable"
                         value="#{productsView.productsModel}" lazy="true" var="product"
                         paginator="true" rows="20"
                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                         selectionMode="single" selection="#{productsView.selectedProduct}">
                <p:column headerText="Nume">
                    <h:outputText value="#{product.name}"/>
                </p:column>
                <p:column headerText="Producator">
                    <h:outputText value="#{product.producer.name}"/>
                </p:column>
                <p:column headerText="Categorie">
                    <h:outputText value="#{product.category.name}"/>
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>